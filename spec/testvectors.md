# VTE v0.2.1 Test Vectors Spec

## 1. Vector Format (JSON)
Test vectors will be stored in `vectors/` as JSON files.

```json
{
  "suite": "vte_v0.2.1",
  "vectors": [
    {
      "id": "valid_full_flow",
      "description": "A valid VTE package generation and verification",
      "inputs": {
        "round": 12345,
        "chainhash": "deadbeef...",
        "r2": "112233...",
        "session_id": "aabbcc...",
        "refund_tx_hash": "ddeeff..."
      },
      "outputs": {
        "ctx_hash": "...",
        "C": "...",
        "param_R2": "...",
        "capsule_base64": "...",
        "proof_secp_base64": "...",
        "proof_tle_base64": "...",
        "result": "success"
      }
    },
    {
      "id": "invalid_wrong_chainhash",
      "description": "Verifier expects different chainhash than in capsule (Simulated)",
      "inputs": { ... },
      "outputs": {
        "result": "error_network_id_mismatch"
      }
    }
  ]
}
```

## 2. Categories

### 2.1 Core Encoding (encoding_vectors.json)
-   `r2` -> `R2`
-   `DST`, `r2`, `ctx_hash` -> `Poseidon(DST, r2, ctx)` (Check against circuit poseidon)
-   `LimbPacking` checks.

### 2.2 Tlock (tlock_vectors.json)
-   Capsules generated by `drand/tlock` CLI.
-   Expected `cipher_fields` parsed.

### 2.3 Proofs (proof_vectors.json)
-   Valid witnesses -> Valid Proof
-   Invalid witnesses -> Invalid Proof
